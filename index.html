<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hybrid Internet | Premium Invoice Generator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
    <div class="app-wrapper">
        <aside class="sidebar">
            <div class="admin-header">
                <div class="brand-logo-container">
                    <img src="logo.png" alt="Hybrid Internet" class="admin-logo"
                        onerror="this.src='https://placehold.co/150x35?text=Logo';">
                </div>
                <h1>Control Panel</h1>
                <a href="operator.html"
                    style="color:var(--brand-yellow); text-decoration:none; font-size: 0.8rem; display: inline-block; margin-top: 10px; font-weight: 500;">Switch
                    to Operator Invoice &rarr;</a>
            </div>

            <section>
                <h3>Business Context</h3>
                <div class="form-group">
                    <label>Local Vendor Name</label>
                    <input type="text" id="vendor-name" placeholder="Leave empty for Hybrid Direct">
                </div>
                <div class="form-group">
                    <label>Invoice Number</label>
                    <input type="text" id="invoice-number" placeholder="e.g. HB/INV/2024/001">
                </div>
                <div class="form-group">
                    <label>Issue Date</label>
                    <input type="date" id="invoice-date">
                </div>
                <div class="form-group">
                    <label>Due Date</label>
                    <input type="date" id="due-date">
                </div>
            </section>

            <section>
                <h3>Client Information</h3>
                <div class="form-group">
                    <label>Customer Name</label>
                    <input type="text" id="customer-name" placeholder="Full legal name">
                </div>
                <div class="form-group">
                    <label>Contact Number</label>
                    <input type="tel" id="customer-phone" placeholder="10-digit mobile number">
                </div>
                <div class="form-group">
                    <label>Service Address</label>
                    <textarea id="customer-address" rows="3" placeholder="Full installation address"></textarea>
                </div>
            </section>

            <section>
                <h3>Plan Configuration</h3>
                <div class="form-group">
                    <label>Data Package</label>
                    <input type="text" id="package-name" placeholder="e.g. Ultra Fiber 100Mbps">
                </div>
                <div class="form-group">
                    <label>Usage Type (Limit)</label>
                    <select id="data-limit">
                        <option value="Unlimited Data">Unlimited</option>
                        <option value="500 GB FUP">500 GB</option>
                        <option value="1000 GB FUP">1 TB</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Internet Amount (₹)</label>
                    <input type="number" id="package-price" placeholder="0.00">
                </div>

                <h4
                    style="margin-top: 25px; margin-bottom: 10px; font-size: 0.8rem; color: var(--brand-orange); text-transform: uppercase;">
                    Value Added Services</h4>

                <div class="form-group">
                    <label>OTT Add-on Name</label>
                    <input type="text" id="ott-name" placeholder="e.g. Netflix + Prime (Leave empty if none)">
                </div>
                <div class="form-group">
                    <label>OTT Amount (₹)</label>
                    <input type="number" id="ott-price" placeholder="0.00">
                </div>

                <div class="form-group">
                    <label>IPTV Add-on Name</label>
                    <input type="text" id="iptv-name" placeholder="e.g. Premium Live TV (Leave empty if none)">
                </div>
                <div class="form-group">
                    <label>IPTV Amount (₹)</label>
                    <input type="number" id="iptv-price" placeholder="0.00">
                </div>

                <div class="form-group" style="display: flex; align-items: center; gap: 10px; margin-top: 20px;">
                    <input type="checkbox" id="add-gst"
                        style="width: 20px; height: 20px; accent-color: var(--brand-orange);">
                    <label style="margin-bottom: 0;">Add 18% GST on top</label>
                </div>
            </section>

            <section>
                <h3>Payment Configuration</h3>
                <div class="form-group">
                    <label>UPI ID (For QR Code)</label>
                    <input type="text" id="upi-id" placeholder="e.g. yourname@okicici">
                </div>
            </section>
        </aside>

        <main class="main-content">
            <div class="top-bar">
                <button id="print-btn" class="btn" style="background: white; border: 1px solid var(--input-border);">
                    <span>Print Page</span>
                </button>
                <button id="download-btn" class="btn btn-primary">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Download Digital PDF
                </button>
            </div>

            <div class="invoice-wrapper">
                <div id="invoice-preview" class="invoice-preview">
                    <!-- Invoice Header -->
                    <div class="invoice-header">
                        <div class="company-info">
                            <img src="logo.png" alt="Hybrid Internet" class="invoice-logo"
                                onerror="this.src='https://placehold.co/150x50?text=Hybrid+Internet';">
                            <div class="company-meta">
                                <span id="p-vendor-badge" class="vendor-badge" style="display:none;"></span>
                                <h2 id="p-company-title">Hybrid Internet</h2>
                                <p><strong>GST:</strong> 15AADCH9392N1ZX</p>
                                <p><strong>Website:</strong> isp.hybridinternet.co</p>
                                <p><strong>Contact:</strong> 8959334650, 9516688921</p>
                            </div>
                        </div>
                        <div class="invoice-status">
                            <h1>INVOICE</h1>
                            <div class="status-grid">
                                <span class="status-label">Invoice #</span>
                                <span class="status-value" id="p-invoice-num">HB/INV/-</span>
                                <span class="status-label">Issue Date</span>
                                <span class="status-value" id="p-invoice-date">-</span>
                                <span class="status-label">Due Date</span>
                                <span class="status-value" id="p-due-date">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Client & Shipping -->
                    <div class="address-section">
                        <div class="address-block">
                            <h4>Billed From</h4>
                            <div class="name">Hybrid Internet Services</div>
                            <div class="detail">Head Office: Hybrid HUB, MP, India.<br>GSTIN: 15AADCH9392N1ZX</div>
                        </div>
                        <div class="address-block">
                            <h4>Billed To</h4>
                            <div class="name" id="p-cust-name">Customer Name</div>
                            <div class="detail" id="p-cust-addr">Service address will appear here...</div>
                            <div class="detail" style="margin-top: 10px; font-weight: 600;" id="p-cust-phone"></div>
                        </div>
                    </div>

                    <!-- Table -->
                    <table class="items-table">
                        <thead>
                            <tr>
                                <th>Service Description</th>
                                <th>Details</th>
                                <th style="text-align:right;">Subtotal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="row-internet">
                                <td class="item-desc">
                                    <h5 id="p-pkg-name">Broadband Subscription</h5>
                                    <p>High-speed fiber connectivity services</p>
                                </td>
                                <td id="p-data-limit">Unlimited</td>
                                <td class="price-cell" style="text-align:right;" id="p-price">₹0.00</td>
                            </tr>
                            <tr id="row-ott" style="display: none;">
                                <td class="item-desc">
                                    <h5 id="p-ott-name">OTT Subscription</h5>
                                    <p>Premium Entertainment Apps</p>
                                </td>
                                <td>VAS</td>
                                <td class="price-cell" style="text-align:right;" id="p-ott-price">₹0.00</td>
                            </tr>
                            <tr id="row-iptv" style="display: none;">
                                <td class="item-desc">
                                    <h5 id="p-iptv-name">IPTV Service</h5>
                                    <p>Live TV Channels</p>
                                </td>
                                <td>VAS</td>
                                <td class="price-cell" style="text-align:right;" id="p-iptv-price">₹0.00</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Totals and Payment QR -->
                    <div class="payment-and-totals">
                        <div class="payment-qr">
                            <h4>Scan to Pay</h4>
                            <div id="qrcode"></div>
                            <p id="qr-upi-text"
                                style="font-size: 0.75rem; margin-top: 8px; color: #666; word-break: break-all; max-width: 140px;">
                            </p>
                        </div>
                        <div class="totals-section">
                            <div class="totals-table">
                                <div class="total-row">
                                    <span class="label">Taxable Value</span>
                                    <span class="value" id="p-subtotal">₹0.00</span>
                                </div>
                                <div class="total-row">
                                    <span class="label">GST (18%)</span>
                                    <span class="value" id="p-gst-amount">₹0.00</span>
                                </div>
                                <div class="total-row grand-total">
                                    <span class="label">Amount Due</span>
                                    <span class="value" id="p-total">₹0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="invoice-footer">
                        <div class="footer-notes">
                            <h6>Payment & Legal Terms</h6>
                            <p>1. Please pay by the due date to avoid service disconnection.<br>
                                2. This is a computer-generated invoice and doesn't require a physical signature.<br>
                                3. For support queries: support@hybridinternet.co or call 8959334650.</p>
                        </div>
                        <div class="authorized-sign">
                            <div class="sign-box"></div>
                            <p>Authorized Signatory</p>
                            <p style="font-size: 0.7rem; color: #888;">Hybrid Internet</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>
